# Image 图片

import CodeBlock from '../../docs/components/CodeBlock/CodeBlock'
import Contributor from '../../docs/components/Contributor/Contributor'
import ImageBasic from './_example/ImageBasic'
import ImagePlaceholder from './_example/ImagePlaceholder'
import ImageError from './_example/ImageError'
import ImageLazy from './_example/ImageLazy'
import ImagePreviewSrcList from './_example/ImagePreviewSrcList'

图片容器，在保留所有原生 img 的特性下，支持懒加载，自定义占位、加载失败等

## 基础用法

可通过fit确定图片如何适应到容器框，同原生 object-fit

<CodeBlock name="ImageBasic">
  <ImageBasic />
</CodeBlock>

## 占位内容

可通过placeholder可自定义占位内容

<CodeBlock name="ImagePlaceholder">
  <ImagePlaceholder />
</CodeBlock>

## 加载失败

可通过error可自定义加载失败内容

<CodeBlock name="ImageError">
  <ImageError />
</CodeBlock>

## 懒加载

可通过lazy开启懒加载功能， 当图片滚动到可视范围内才会加载。 可通过 scroll-container 来设置滚动容器， 若未定义，则为最近一个 overflow 值为 auto 或 scroll 的父元素。

<CodeBlock name="ImageLazy">
  <ImageLazy />
</CodeBlock>

## 图片预览

可通过 previewSrcList 开启预览大图的功能。 你可以通过 initial-index 初始化第一张预览图片的位置。 默认初始位置为 0。

<CodeBlock name="ImagePreviewSrcList">
  <ImagePreviewSrcList />
</CodeBlock>

## Image API

### Image Attributes

| 属性名             | 说明                                                      | 类型                                                                               | 默认值 |
| ------------------ | --------------------------------------------------------- | ---------------------------------------------------------------------------------- | ------ |
| src                | 图片源地址，同原生属性一致                                | string                                                                             | ''     |
| fit                | 确定图片如何适应容器框，同原生 object-fit                 | '' &#124; 'fill' &#124; 'contain' &#124; 'cover' &#124; 'none' &#124; 'scale-down' | ''     |
| hideOnClickModal   | 当开启 preview 功能时，是否可以通过点击遮罩层关闭 preview | boolean                                                                            | false  |
| loading            | 浏览器加载图像的策略，和 浏览器原生能力一致               | 'eager' &#124; 'lazy'                                                              | —      |
| alt                | 原生属性 alt                                              | string                                                                             | —      |
| previewSrcList     | 开启图片预览功能                                          | string[]                                                                           | []     |
| zIndex             | 设置图片预览的 z-index                                    | number                                                                             | —      |
| initialIndex       | 初始预览图像索引，小于 url-list 的长度                    | number                                                                             | 0      |
| closeOnPressEscape | 是否可以通过按下 ESC 关闭 Image Viewer                    | boolean                                                                            | true   |
| infinite           | 是否可以无限循环预览                                      | boolean                                                                            | true   |
| zoomRate           | 图像查看器缩放事件的缩放速率。                            | number                                                                             | 1.2    |
| minScale           | 图像查看器缩放事件的最小缩放比例                          | number                                                                             | 0.2    |
| maxScale           | 图像查看器缩放事件的最大缩放比例                          | number                                                                             | 7      |
| placeholder        | 当图像尚未加载时，自定义的占位符内容                      | string &#124; ReactNode                                                            | —      |
| error              | 自定义图像加载失败的内容                                  | string &#124; ReactNode                                                            | —      |

### Image Events

| 名称     | 描述                                                             | 类型                    |
| -------- | ---------------------------------------------------------------- | ----------------------- |
| onLoad   | 图片加载成功触发                                                 | (e: Event) => void      |
| onError  | 图片加载失败触发                                                 | (e: Event) => void      |
| onSwitch | 切换图像时触发                                                   | (index: number) => void |
| onClose  | 当点击 X 按钮或者在hide-on-click-modal为 true 时点击遮罩层时触发 | () => void              |
| onShow   | 当 Viewer 显示时触发                                             | () => void              |

## 贡献者

<Contributor path="packages/Image/index.zh-CN.mdx" />